USE [master]
GO

DECLARE @DUMP_PATH VARCHAR(255);
DECLARE @DB_NAME VARCHAR(255);

SET @DUMP_PATH = N'/var/opt/mssql/dump/PUT_YOUR_BACKUP_NAME_HERE.BAK';
SET @DB_NAME = N'PUT_YOUR_DATABASE_NAME_HERE';

RESTORE FILELISTONLY FROM DISK = @DUMP_PATH;

-- DROP DATABASE IF EXISTS @DB_NAME;

DECLARE @DB_DESTINY VARCHAR(255);
DECLARE @LOG_NAME VARCHAR(255);
DECLARE @LOG_DESTINY VARCHAR(255);

SET @DB_DESTINY = '/var/opt/mssql/data/' + @DB_NAME + '.mdf';
SET @LOG_NAME = @DB_NAME + '_log';
SET @LOG_DESTINY = '/var/opt/mssql/log/' + @DB_NAME + '_log.ldf';

RESTORE DATABASE @DB_NAME FROM DISK = @DUMP_PATH
WITH MOVE @DB_NAME to @DB_DESTINY,
     MOVE @LOG_NAME to @LOG_DESTINY
GO
